<!doctype html>
<!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if (IE 7)&!(IEMobile)]><html class="no-js lt-ie9 lt-ie8" lang="en"><![endif]-->
<!--[if (IE 8)&!(IEMobile)]><html class="no-js lt-ie9" lang="en"><![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"><!--<![endif]-->
<head>
<meta charset="utf-8">
<link href="//netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet">
<title>BTK, A tool for reading C3d files &#8211; Kumarcode</title>
<meta name="description" content="">
<meta name="keywords" content="">


<!-- Open Graph -->
<meta property="og:locale" content="en_US">
<meta property="og:type" content="article">
<meta property="og:title" content="BTK, A tool for reading C3d files">
<meta property="og:description" content="A stylish blog on my code">
<meta property="og:url" content="/BTK-biomechanics/">
<meta property="og:site_name" content="Kumarcode">





<link rel="canonical" href="/BTK-biomechanics/">
<link href="/feed.xml" type="application/atom+xml" rel="alternate" title="Kumarcode Feed">
<link rel="author" href="http://plus.google.com/+/u/0/104266827599169158890/posts?rel=author">

<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- Google Webfonts -->
<link href='http://fonts.googleapis.com/css?family=PT+Sans+Narrow:400,700|PT+Serif:400,700,400italic' rel='stylesheet' type='text/css'>
<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.min.css">

<meta http-equiv="cleartype" content="on">

<!-- HTML5 Shiv and Media Query Support -->
<!--[if lt IE 9]>
	<script src="/assets/js/vendor/html5shiv.min.js"></script>
	<script src="/assets/js/vendor/respond.min.js"></script>
<![endif]-->

<!-- Modernizr -->
<script src="/assets/js/vendor/modernizr-2.7.1.custom.min.js"></script>

<!-- Icons -->
<!-- 16x16 -->
<link rel="shortcut icon" href="/favicon.ico">
<!-- 32x32 -->
<link rel="shortcut icon" href="/favicon.png">
<!-- 57x57 (precomposed) for iPhone 3GS, pre-2011 iPod Touch and older Android devices -->
<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon-precomposed.png">
<!-- 72x72 (precomposed) for 1st generation iPad, iPad 2 and iPad mini -->
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="/images/apple-touch-icon-72x72-precomposed.png">
<!-- 114x114 (precomposed) for iPhone 4, 4S, 5 and post-2011 iPod Touch -->
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="/images/apple-touch-icon-114x114-precomposed.png">
<!-- 144x144 (precomposed) for iPad 3rd and 4th generation -->
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="/images/apple-touch-icon-144x144-precomposed.png">

</head>

<body class="post">

<!--[if lt IE 9]><div class="browser-upgrade alert alert-info">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</div><![endif]-->

<div class="navigation-wrapper">
	<div class="site-name">
		<a href="/"><i class="fa fa-code"></i>Kumarcode</a>
	</div><!-- /.site-name -->
	<div class="top-navigation">
		<nav role="navigation" id="site-nav" class="nav">
		    <ul>
		        
				<li><a href="/about/" >About</a></li>
		        
				<li><a href="/posts/" >Posts</a></li>
		        
				<li><a href="/arch/" >Arch Linux</a></li>
		        
		    </ul>
		</nav>
	</div><!-- /.top-navigation -->
</div><!-- /.navigation-wrapper -->




<div id="main" role="main">
  <div class="article-author-side">
    
	<img src="/images/bio-photo.jpg" class="bio-photo" alt="Nikhil Kumar bio photo"></a>

<h3>Nikhil Kumar</h3>
<p>A stylish blog on my code</p>


<a href="http://plus.google.com//u/0/104266827599169158890/posts" class="author-social" target="_blank"><i class="icon-google-plus"></i> Google+</a>
<a href="mailto:nikhilkumar516@gmail.com" class="author-social" target="_blank"><i class="fa fa-envelope"></i> Gmail</a>




<a href="http://github.com/nikhil" class="author-social" target="_blank"><i class="fa fa-github-square"></i> Github</a>







  </div>
  <article>
    <div class="headline-wrap">
      
        <h1><a href="/BTK-biomechanics/" rel="bookmark" title="BTK, A tool for reading C3d files">BTK, A tool for reading C3d files</a></h1>
      
    </div><!--/ .headline-wrap -->
    <div class="article-wrap">
      <p>A a script that reads, plots data as well as modifies c3d files using the btk library.</p>

<h1 id="modules-needed">Modules needed</h1>

<h2 id="python-pacakges">Python pacakges</h2>

<div class="highlight"><pre><code class="python"><span class="n">numpy</span>
<span class="n">Matplotlib</span>
<span class="n">BTK</span>
</code></pre></div>

<p>To install python2 packages you need to run pip.
For example to install numpy, you need to run:</p>

<div class="highlight"><pre><code class="python"><span class="n">pip</span> <span class="n">install</span> <span class="n">numpy</span>
</code></pre></div>

<p>BTK is the exception here. I was not able to get btk working through pip. BTK also seems to be architectural dependent as it was not installing in my ARCH distribution. I was able to get it working on Fedora 19 by installing the python wrapper package from here</p>

<pre><code>https://code.google.com/p/b-tk/
</code></pre>
<p>Then run:</p>

<div class="highlight"><pre><code class="bash">yum localinstall packagename.rpm 
</code></pre></div>

<h2 id="running-it">Running it</h2>

<p>This program was hardcoded for the research I was doing in biomechanics. It graphs all the analog forces in the x,y, and z direction. Currently it modifies the file by setting a limit for the force in the z direction to mimic heal-toe running.</p>

<p>Before running this script you must add in the name of your c3d file. To do that you must edit this line.</p>

<div class="highlight"><pre><code class="python"><span class="n">reader</span> <span class="o">=</span> <span class="n">btk</span><span class="o">.</span><span class="n">btkAcquisitionFileReader</span><span class="p">()</span>  <span class="c"># build a btk reader object </span>
<span class="n">reader</span><span class="o">.</span><span class="n">SetFilename</span><span class="p">(</span><span class="s">&#39;GaitNormal0003-processed.c3d&#39;</span><span class="p">)</span>      <span class="c"># set a filename to the reader</span>
<span class="n">acq</span> <span class="o">=</span> <span class="n">reader</span><span class="o">.</span><span class="n">GetOutput</span><span class="p">()</span>                 <span class="c"># btk aquisition object</span>
</code></pre></div>

<p>You can then run the program as follows:</p>

<div class="highlight"><pre><code class="python"><span class="n">python</span> <span class="n">c3dfileeditor</span><span class="o">.</span><span class="n">py</span> <span class="n">modified</span><span class="o">.</span><span class="n">c3d</span> <span class="mf">0.8</span>
</code></pre></div>

<p>where modified.c3d is the name you want your modified file to be and 0.8 is the cutoff.</p>

<p>The results are then graphed.</p>


      <hr />
      <footer role="contentinfo">
        <div class="article-author-bottom">
          
	<img src="/images/bio-photo.jpg" class="bio-photo" alt="Nikhil Kumar bio photo"></a>

<h3>Nikhil Kumar</h3>
<p>A stylish blog on my code</p>


<a href="http://plus.google.com//u/0/104266827599169158890/posts" class="author-social" target="_blank"><i class="icon-google-plus"></i> Google+</a>
<a href="mailto:nikhilkumar516@gmail.com" class="author-social" target="_blank"><i class="fa fa-envelope"></i> Gmail</a>




<a href="http://github.com/nikhil" class="author-social" target="_blank"><i class="fa fa-github-square"></i> Github</a>







        </div>
        <p class="byline"><strong>BTK, A tool for reading C3d files</strong> was published on <time datetime="2014-05-21T00:00:00-04:00">May 21, 2014</time> by <a href="/about" title="About Nikhil Kumar">Nikhil Kumar</a>.</p>
      </footer>
    </div><!-- /.article-wrap -->
  
  </article>
</div><!-- /#main -->

<div class="footer-wrap">
  <div class="related-articles">
  <h4>You might also enjoy <small class="pull-right">(<a href="/posts/">View all posts</a>)</small></h4>
    <ul>
    
      <li><a href="/sample-post/" title="Sample Post">Sample Post</a></li>
    
    </ul>
    <hr />
  </div><!-- /.related-articles -->
  <footer>
    <span>&copy; 2014 Nikhil Kumar. Powered by <a href="http://jekyllrb.com">Jekyll</a></span>

  </footer>
</div><!-- /.footer-wrap -->

<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="/assets/js/vendor/jquery-1.9.1.min.js"><\/script>')</script>
<script src="/assets/js/scripts.min.js"></script>

	        

</body>
</html>